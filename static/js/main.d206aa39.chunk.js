(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(49),l=a.n(o),s=(a(86),a(5)),c=a(6),i=a(7),u=a(8),m=a(2),p=a(1),d=function(e){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(m.c,{className:"home",to:"/"},"All Posts"),e.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,{className:"links",to:"/new"},"Add New Post"),r.a.createElement(m.c,{className:"links logout",to:"/logout"},"Logout")):r.a.createElement(m.c,{className:"links",to:"/login"},"Login")))},h=function(e){var t=e.posts;e.deletePost;return r.a.createElement("article",{className:"container"},r.a.createElement("h1",{className:"h1-posts"},"My Posts"),t.length<1?r.a.createElement("p",null,"No Posts Yet"):r.a.createElement("div",{style:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)"}},(t||[]).map((function(e){return r.a.createElement("div",{className:"posts"},r.a.createElement("div",{className:"posts-data"},r.a.createElement("h2",{className:"h2-posts"},e.title),r.a.createElement("p",null,e.content.ops[0].insert.substring(0,100)+"....")),r.a.createElement(m.b,{style:{backgroundColor:"darkslategray",color:"white",textDecoration:"none",textTransform:"uppercase",height:"fit-content",margin:"2rem 0",borderRadius:"10px",padding:"0 10px"},to:"/post/".concat(e.slug)},r.a.createElement("p",null,"Read More")))}))))},f=a(80),E=(a(56),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handelDeletePost=function(t){t.preventDefault(),e.props.deletePost(e.props.post.key)},e}return Object(c.a)(a,[{key:"render",value:function(){console.log(this.props.post);var e=new f.QuillDeltaToHtmlConverter(this.props.post.content.ops,{}).convert();return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"container"},r.a.createElement("h3",{className:"post-title"},this.props.post.title),r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e}}),this.props.isAuthenticated&&r.a.createElement("div",{class:"btn",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",flexWrap:"wrap"}},r.a.createElement(m.b,{style:{textDecoration:"none",width:"230px",textAlign:"center",color:"white",borderRadius:"16px",textTransform:"uppercase",fontSize:"inherit",marginTop:"15px",backgroundColor:"darkslategray"},to:"/edit/".concat(this.props.post.slug)},r.a.createElement("p",null,"Update Post")),r.a.createElement("button",{style:{border:0,outline:0,width:"230px",padding:"16px",color:"white",cursor:"pointer",borderRadius:"16px",backgroundColor:"rgb(240, 65, 65)",marginTop:"15px",fontSize:"inherit"},onClick:this.handelDeletePost},"DELETE"))))}}]),a}(r.a.Component)),g=function(){return r.a.createElement("article",null,r.a.createElement("h2",null,"404 Page not found!"),r.a.createElement("p",null,"The page you are requesting is not found or does not exist"))},b=a(31),v=a.n(b),y=(a(76),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",content:"",served:!1},e.handleFormSubmit=function(t){if(t.preventDefault(),e.state.title){var a={title:e.state.title,content:e.state.content};e.props.addNewPost(a),e.setState((function(){return{served:!0}}))}else alert("Title require")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.served?r.a.createElement(p.a,{to:"/"}):r.a.createElement("form",{className:"container form",onSubmit:this.handleFormSubmit},r.a.createElement("h3",{className:"h3"},"Add A New Post "),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"form-title"},"Title:"),r.a.createElement("br",null),r.a.createElement("input",{id:"form-title",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"form-content"},"Content:"),r.a.createElement("br",null),r.a.createElement(v.a,{onChange:function(t,a,n,r){e.setState({content:r.getContents()})}})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Save"))))}}]),a}(r.a.Component)),w=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={key:e.props.post.key,title:e.props.post.title,content:e.props.post.content,served:!1},e.handleFormSubmit=function(t){if(t.preventDefault(),e.state.title){var a={key:e.state.key,title:e.state.title,content:e.state.content};e.props.editPost(a),e.setState((function(){return{served:!0}}))}else alert("Title required")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.served?r.a.createElement(p.a,{to:"/"}):r.a.createElement("form",{className:"container form",onSubmit:this.handleFormSubmit},r.a.createElement("h3",{className:"h3"},"Editing ",this.state.title),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"edit-title"},"Title:"),r.a.createElement("br",null),r.a.createElement("input",{id:"edit-title",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"edit-content"},"Content:"),r.a.createElement("br",null),r.a.createElement(v.a,{value:this.state.content,onChange:function(t,a,n,r){e.setState({content:r.getContents()})}})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Save"))))}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleLogin=function(t){t.preventDefault(),e.props.onLogin(e.state.email,e.state.password)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},r.a.createElement("h2",{className:"h2-login"},"Login"),r.a.createElement("form",{className:"form",onSubmit:this.handleLogin},r.a.createElement("label",{htmlFor:"login-email"},"Email:"),r.a.createElement("br",null),r.a.createElement("input",{htmlFor:"input-email",type:"text",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"login-password"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{htmlFor:"input-password",type:"password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("p",null),r.a.createElement("button",{disabled:!this.state.email&&!this.state.password,type:"submit"},"Login")))}}]),a}(r.a.Component),S=a(53);a(204),a(206);S.initializeApp({apiKey:"AIzaSyAWVNRMVNeRO1WWmZhfFSMN4NUFhLvNHF8",authDomain:"blog-4450.firebaseapp.com",databaseURL:"https://blog-4450.firebaseio.com",projectId:"blog-4450",storageBucket:"blog-4450.appspot.com",messagingSenderId:"76639964367",appId:"1:76639964367:web:3f490d733678702906bbba"});var k=S,A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAuthenticated:!1,posts:[],redirect:!1},e.onLogin=function(t,a){k.auth().signInWithEmailAndPassword(t,a).then((function(t){return e.setState({isAuthenticated:!0})})).catch((function(e){return console.log(e)}))},e.addNewPost=function(e){var t=k.database().ref("posts");e.slug=encodeURIComponent(e.title.toLowerCase().split(" ").join("-")),t.push(e)},e.editPost=function(e){k.database().ref("posts/"+e.key).update({slug:encodeURIComponent(e.title.toLowerCase().split(" ").join("-")),title:e.title,content:e.content})},e.deletePost=function(e){window.confirm("Do you want to delete?")&&k.database().ref("posts/"+e).remove()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.database().ref("posts").on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({key:r,slug:a[r].slug,title:a[r].title,content:a[r].content});e.setState({posts:n})}))}},{key:"componentDidUpdate",value:function(e,t){var a=JSON.stringify(this.state.posts);localStorage.setItem("posts",a)}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,{isAuthenticated:this.state.isAuthenticated}),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",render:function(){return e.state.isAuthenticated?r.a.createElement(p.a,{to:"/"}):r.a.createElement(N,{onLogin:e.onLogin})}}),r.a.createElement(p.b,{path:"/logout",render:function(){return k.auth().signOut().then((function(){return e.setState({isAuthenticated:!1})})).catch((function(e){return console.log(e)})),r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(h,{posts:this.state.posts})),r.a.createElement(p.b,{path:"/post/:postSlug",render:function(t){var a=(e.state.posts||[]).find((function(e){return e.slug===t.match.params.postSlug}));return a?r.a.createElement(E,{post:a,deletePost:e.deletePost,isAuthenticated:e.state.isAuthenticated}):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{path:"/new",render:function(){return e.state.isAuthenticated?r.a.createElement(y,{addNewPost:e.addNewPost}):r.a.createElement(p.a,{to:"/login"})}}),r.a.createElement(p.b,{path:"/edit/:postSlug",render:function(t){var a=(e.state.posts||[]).find((function(e){return e.slug===t.match.params.postSlug}));return a?r.a.createElement(w,{post:a,editPost:e.editPost}):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{component:g}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){},81:function(e,t,a){e.exports=a(209)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.d206aa39.chunk.js.map